!function(){"use strict";var t=t=>{const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset}},e=class{constructor(t,e,s,i){this.navElem=t,this.buttonNoJSClass=`${e}--nojs`,this.menuNoJSClass=`${s}--nojs`,this.buttonOpenClass=`${e}--open`,this.menuOpenClass=`${s}--open`,this.button=this.navElem.querySelector(`.${e}`),this.menu=this.navElem.querySelector(`.${s}`),this.links=null!==this.menu?[...this.menu.querySelectorAll("a[href]")]:[],this.currentLinkClass=i}init(){null!==this.button&&null!==this.menu&&(this.button.classList.remove(this.buttonNoJSClass),this.button.setAttribute("aria-expanded",!1),this.menu.classList.remove(this.menuNoJSClass),this.button.addEventListener("click",this.onButtonClick.bind(this)),this.handleCurrentLinkClass(),window.addEventListener("hashchange",this.onHashchange.bind(this)),this.links.forEach((t=>{const e=t.getAttribute("href"),s="#"===e[0]&&e.length>1?document.querySelector(e):null;null!==s&&(t.pageFragment=s,t.addEventListener("click",this.onPageFragmentLinkClick.bind(this)))})))}onButtonClick(t){const e=t.currentTarget,s="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!s),e.classList.toggle(this.buttonOpenClass),this.menu.classList.toggle(this.menuOpenClass)}handleCurrentLinkClass(){const t=window.location;this.links.forEach((e=>{e.href===t.href?e.classList.add(this.currentLinkClass):e.classList.remove(this.currentLinkClass)}))}onHashchange(){this.handleCurrentLinkClass()}onPageFragmentLinkClick(e){const s=e.currentTarget,i=t(s.pageFragment);t(this.menu).bottom>i.top&&(this.button.setAttribute("aria-expanded",!1),this.button.classList.remove(this.buttonOpenClass),this.menu.classList.remove(this.menuOpenClass))}},s=class{constructor(t){this.elem=t,this.lightStyles=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=light]"),this.darkStyles=document.querySelectorAll("link[rel=stylesheet][media*=prefers-color-scheme][media*=dark]"),this.lightMedia="(prefers-color-scheme: light)",this.darkMedia="(prefers-color-scheme: dark)",this.radioSelector="input[type=radio][name=color-scheme]",this.radios=this.elem.querySelectorAll(this.radioSelector)}init(){const t=localStorage.getItem("color-scheme"),e=(()=>matchMedia(this.darkMedia).matches?"dark":"light")();null!==t&&(this.elem.querySelector(`${this.radioSelector}[value=${t}]`).checked=!0),this.radios.forEach((t=>t.addEventListener("change",this.onRadioChange.bind(this)))),t!==e&&null!==t&&this.setScheme(t)}onRadioChange(t){this.setScheme(t.target.value)}setScheme(t){(()=>{let e,s;"auto"===t?(e=this.lightMedia,s=this.darkMedia):(e="light"===t?"all":"not all",s="dark"===t?"all":"not all"),this.lightStyles.forEach((t=>{t.media=e})),this.darkStyles.forEach((t=>{t.media=s}))})(),"auto"===t?localStorage.removeItem("color-scheme"):localStorage.setItem("color-scheme",t)}};const i=function(t,e){const s=document.querySelector(e);if(null!==s){for(var i=arguments.length,n=new Array(i>2?i-2:0),a=2;a<i;a++)n[a-2]=arguments[a];new t(s,...n).init()}},n=()=>{i(e,".main-nav","main-nav__toggle","site-list","site-list__link--current"),i(s,".switcher"),document.querySelectorAll("a[data-replace-with-button]").forEach((t=>{const e=document.createElement("button");e.type="button",t.hasAttribute("id")&&(e.id=t.id),e.innerHTML=t.innerHTML,e.className=t.className,t.parentElement.replaceChild(e,t)}))};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}();